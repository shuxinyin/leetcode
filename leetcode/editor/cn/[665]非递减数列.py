# ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ï¼Œè¯·ä½ åˆ¤æ–­åœ¨ æœ€å¤š æ”¹å˜ 1 ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œè¯¥æ•°ç»„èƒ½å¦å˜æˆä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚ 
# 
#  æˆ‘ä»¬æ˜¯è¿™æ ·å®šä¹‰ä¸€ä¸ªéé€’å‡æ•°åˆ—çš„ï¼š å¯¹äºæ•°ç»„ä¸­ä»»æ„çš„ i (0 <= i <= n-2)ï¼Œæ€»æ»¡è¶³ nums[i] <= nums[i + 1]ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1: 
# 
#  
# è¾“å…¥: nums = [4,2,3]
# è¾“å‡º: true
# è§£é‡Š: ä½ å¯ä»¥é€šè¿‡æŠŠç¬¬ä¸€ä¸ª4å˜æˆ1æ¥ä½¿å¾—å®ƒæˆä¸ºä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚
#  
# 
#  ç¤ºä¾‹ 2: 
# 
#  
# è¾“å…¥: nums = [4,2,1]
# è¾“å‡º: false
# è§£é‡Š: ä½ ä¸èƒ½åœ¨åªæ”¹å˜ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹å°†å…¶å˜ä¸ºéé€’å‡æ•°åˆ—ã€‚
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  
#  1 <= n <= 10 ^ 4 
#  - 10 ^ 5 <= nums[i] <= 10 ^ 5 
#  
#  Related Topics æ•°ç»„ ğŸ‘ 634 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)
class Solution(object):
    def checkPossibility(self, nums):
        """
        å½“ nums[i] ç ´åäº†æ•°ç»„çš„å•è°ƒé€’å¢æ—¶ï¼Œå³ nums[i] < nums[i - 1] æ—¶ï¼Œä¸ºäº†è®©æ•°ç»„æœ‰åºï¼Œæˆ‘ä»¬å‘ç°ä¸€ä¸ªè§„å¾‹ï¼ˆåœ¨ä¸Šé¢ä¸‰ä¸ªä¾‹å­ä¸­ï¼Œ nums[i] éƒ½ä¸º 2ï¼Œ nums[i -1] éƒ½ä¸º 4ï¼‰ï¼š

        å¦‚ä¾‹ã€4ï¼Œ2ï¼Œ5ã€‘çš„æƒ…å†µï¼Œå½“ i = 1 ï¼Œé‚£ä¹ˆä¿®æ”¹ num[i- 1] ï¼Œä¸è¦åŠ¨ nums[i] ï¼Œå› ä¸ºnums[i]åé¢çš„å…ƒç´ æ˜¯å•¥æˆ‘ä»¬è¿˜ä¸çŸ¥é“å‘¢ï¼Œå°‘åŠ¨å®ƒä¸ºå¦™ã€‚
        å¦‚ä¾‹ã€1ï¼Œ4ï¼Œ2ï¼Œ5ã€‘çš„æƒ…å†µï¼Œå½“ i > 1 æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ä¼˜å…ˆè€ƒè™‘æŠŠ nums[i - 1] è°ƒå°åˆ° >= nums[i - 2] å¹¶ä¸” <= nums[i]ã€‚åŒæ ·å°½é‡ä¸å»ä¿®æ”¹ nums[i] ï¼Œç†ç”±åŒä¸Šã€‚
        å¦‚ä¾‹ã€3ï¼Œ4ï¼Œ2ï¼Œ5ã€‘çš„æƒ…å†µï¼Œå½“ i > 1 ä¸” nums[i] < nums[i - 2] æ—¶ï¼Œæˆ‘ä»¬æ— æ³•è°ƒæ•´ nums[i - 1] ï¼Œæˆ‘ä»¬åªèƒ½è°ƒæ•´ nums[i] åˆ° nums[i - 1] ã€‚
        Time O(N)
        Space O(1)
        """
        N = len(nums)
        count = 0
        for i in range(1, N):
            if nums[i] < nums[i - 1]:
                count += 1
                if i == 1 or nums[i] >= nums[i - 2]:  # ã€4ï¼Œ2ï¼Œ5ã€‘ # ã€1ï¼Œ4ï¼Œ2ï¼Œ5ã€‘
                    nums[i - 1] = nums[i]  # è¿™ä¸¤ç§æƒ…å†µä¿®æ”¹nums[i-1]
                else:
                    nums[i] = nums[i - 1]  # ã€3ï¼Œ4ï¼Œ2ï¼Œ5ã€‘ä¿®æ”¹nums[i]
        print(count)
        return count <= 1


# leetcode submit region end(Prohibit modification and deletion)




if __name__ == "__main__":
    S = Solution()
    l = [3, 4, 2, 3]
    l2 = [4, 2, 3]
    l3 = [5, 7, 1, 8]
    print(S.checkPossibility(l))
